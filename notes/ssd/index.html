
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Yizhou Shan">
      
      
        <link rel="canonical" href="http://lastweek.io/notes/ssd/">
      
      
        <link rel="prev" href="../..">
      
      
        <link rel="next" href="../CXL/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>SSD 101 - Yizhou Shan's Home Page</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Courier+Prime+Bold:300,300i,400,400i,700,700i%7CCourier+Prime+Bold:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Courier Prime Bold";--md-code-font:"Courier Prime Bold"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ssd-101" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Yizhou Shan&#39;s Home Page" class="md-header__button md-logo" aria-label="Yizhou Shan's Home Page" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Yizhou Shan's Home Page
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              SSD 101
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/lastweek/lastweek.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="m504 204.6-.7-1.8L433.6 21c-1.4-3.6-3.9-6.6-7.2-8.6-2.4-1.6-5.1-2.5-8-2.8s-5.7.1-8.4 1.1-5.1 2.7-7.1 4.8c-1.9 2.1-3.3 4.7-4.1 7.4l-47 144H161.3l-47.1-144c-.8-2.8-2.2-5.3-4.1-7.4-2-2.1-4.4-3.7-7.1-4.8-2.6-1-5.5-1.4-8.4-1.1s-5.6 1.2-8 2.8c-3.2 2-5.8 5.1-7.2 8.6L9.8 202.8l-.8 1.8c-10 26.2-11.3 55-3.5 82 7.7 26.9 24 50.7 46.4 67.6l.3.2.6.4 106 79.5c38.5 29.1 66.7 50.3 84.6 63.9 3.7 1.9 8.3 4.3 13 4.3s9.3-2.4 13-4.3c17.9-13.5 46.1-34.9 84.6-63.9l106.7-79.9.3-.3c22.4-16.9 38.7-40.6 45.6-67.5 8.6-27 7.4-55.8-2.6-82"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
  
  Notes

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../source_code/summary/" class="md-tabs__link">
          
  
  
  Code

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../fpga/bitstream/" class="md-tabs__link">
          
  
  
  FPGA

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../lego/log/misc/" class="md-tabs__link">
          
  
  
  LegoOS

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Yizhou Shan&#39;s Home Page" class="md-nav__button md-logo" aria-label="Yizhou Shan's Home Page" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Yizhou Shan's Home Page
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/lastweek/lastweek.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="m504 204.6-.7-1.8L433.6 21c-1.4-3.6-3.9-6.6-7.2-8.6-2.4-1.6-5.1-2.5-8-2.8s-5.7.1-8.4 1.1-5.1 2.7-7.1 4.8c-1.9 2.1-3.3 4.7-4.1 7.4l-47 144H161.3l-47.1-144c-.8-2.8-2.2-5.3-4.1-7.4-2-2.1-4.4-3.7-7.1-4.8-2.6-1-5.5-1.4-8.4-1.1s-5.6 1.2-8 2.8c-3.2 2-5.8 5.1-7.2 8.6L9.8 202.8l-.8 1.8c-10 26.2-11.3 55-3.5 82 7.7 26.9 24 50.7 46.4 67.6l.3.2.6.4 106 79.5c38.5 29.1 66.7 50.3 84.6 63.9 3.7 1.9 8.3 4.3 13 4.3s9.3-2.4 13-4.3c17.9-13.5 46.1-34.9 84.6-63.9l106.7-79.9.3-.3c22.4-16.9 38.7-40.6 45.6-67.5 8.6-27 7.4-55.8-2.6-82"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Notes
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Notes
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    SSD 101
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    SSD 101
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#basics" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basics
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Basics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cell-bits-slc-mlc-tlc" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cell Bits (SLC, MLC, TLC)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parallelism-and-packaging" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parallelism and Packaging
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nand-has-3-programming-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      
        NAND has 3 programming constraints
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ftl-flash-translation-layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        FTL Flash Translation Layer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#garbage-collection-gc" class="md-nav__link">
    <span class="md-ellipsis">
      
        Garbage Collection (GC)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write-amplification-factor" class="md-nav__link">
    <span class="md-ellipsis">
      
        Write Amplification Factor
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trim" class="md-nav__link">
    <span class="md-ellipsis">
      
        TRIM
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#over-provisioning-op" class="md-nav__link">
    <span class="md-ellipsis">
      
        Over-Provisioning (OP)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wear-leveling" class="md-nav__link">
    <span class="md-ellipsis">
      
        Wear Leveling
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#queue-depth" class="md-nav__link">
    <span class="md-ellipsis">
      
        Queue Depth
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#seq-vs-random-ssd-writes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Seq v.s. Random SSD Writes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#open-channel-ssd" class="md-nav__link">
    <span class="md-ellipsis">
      
        Open Channel SSD
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zoned-namespace-zns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Zoned Namespace (ZNS)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flexible-data-placement-fdp-vs-zns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Flexible Data Placement (FDP) v.s. ZNS
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aws-nitro-ssd" class="md-nav__link">
    <span class="md-ellipsis">
      
        AWS Nitro SSD
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cxl-ssd-and-smart-ssd" class="md-nav__link">
    <span class="md-ellipsis">
      
        CXL SSD and Smart SSD
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#readings" class="md-nav__link">
    <span class="md-ellipsis">
      
        Readings
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CXL/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    What is CXL?
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../MLIR/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    What is MLIR?
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../virt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Modern Virtualization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cache_coherence/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Practical Cache Coherence
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource-disaggregation-spectrum/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Resource Disaggregation Design Spectrums
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dist-xact/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Distributed Transactions and Databases
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dynamic_linking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dynamic Linking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dcn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Center Networking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../packet-sched/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Switch Buffering and Packet Scheduling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sysml/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SysML
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../arch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cryptography/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cryptography
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cryptocurrency/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cryptocurrency
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hardware_pl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hardware Design Languages
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../paper_perf_shadows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Performance-Shadows
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/essential/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Essential
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/cheatsheet/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cheatsheet
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/20200404-on-read-once/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    On Read Once and Compiler Optimization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Code
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Code
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../source_code/summary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Index
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Linux
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Linux
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux Index
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux/linux-function-trace/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux Dump Function Graph
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux/fork/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux fork/switch_to
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux/linux-rcu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux RCU
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux/linux-completion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux Completion/swait
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux/linux-workqueue/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux workqueue
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux/linux-linker-script/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux Linker Script
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux/linux-boot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux Boot Sequence
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../trace/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux Trace and Profile
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rmap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux Reverse Mapping
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../userfaultfd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux Userfaultfd
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cgroup-swap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux Cgroup and Swap
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../xperf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux x86 Ring Switch
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux/linux-x86-fpu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux FPU
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux/linux-iouring/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux io_uring
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux/linux-resource/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux Resource
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../proc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux Special Files
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../kvm-basic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux KVM
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux/rust.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux Rust
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Go
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Go
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../go/golang/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Learn Go
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../go/gvisor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    gVisor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Rust
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Rust
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rust/rust/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Learn Rust
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rust/firecracker.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Firecracker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../source_code/rdma/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DPDK and RDMA
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../program_advice/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Guideline & Advice
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../source_code/firmware-softwares/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Firmware & Bootloader
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../source_code/os/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Operating System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../source_code/compilers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Compilers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../source_code/unix-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Unix Tools
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../source_code/virt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Virtualization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../source_code/20200501-on-graphic-softwares/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Graphics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../source_code/gpu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    GPU
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../source_code/fpga/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FPGA
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../source_code/risc-v/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    RISC-V
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../source_code/dotconfigs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dot-Configs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../source_code/misc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Misc
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    FPGA
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    FPGA
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fpga/bitstream/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Bitstream Explained
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../paper_fpga/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Papers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fpga/language/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Languages
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fpga/vivado/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Vivado Notes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fpga/setup_hold/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Setup and Hold Time
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fpga/pr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Partial Reconfiguration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    LegoOS
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    LegoOS
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Log
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Log
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/log/misc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MISC
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/log/test-note/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Test Script
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Kernel
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Kernel
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/kernel/boot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    GRUB2 and Boot
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/kernel/kconfig/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Kconfig
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/kernel/debug/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Debug
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/kernel/grub/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    GRUB
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/kernel/profile/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Profile
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/kernel/profile_strace/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Profile strace
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/kernel/profile_heatmap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Profile heatmap
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/kernel/profile_points/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Profile points
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/kernel/trampoline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Trampoline
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/kernel/pagefault_disable/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Disable pgfault
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/kernel/stop_machine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Stop machine
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/kernel/loader/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Program Loader
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/kernel/vDSO/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    vDSO
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/kernel/vfs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Virtual File System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/kernel/vm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Process Virtual Memory
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/kernel/fpu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    x86 FPU
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/kernel/irq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IRQ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/kernel/net_thpool/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Network Thpool
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Syscall
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Syscall
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/syscall/facts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Facts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/kernel/profile_strace/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Profile strace
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/syscall/compat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    compat
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/syscall/msync/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    msync()
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/syscall/mremap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    mremap()
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/syscall/fork/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    fork()
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/syscall/getrusage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    getrusage()
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/syscall/wait_and_exit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    wait4 and exit()
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Pcache
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Pcache
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/pcache/config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Config
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/pcache/sweep/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sweep
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/pcache/tlb/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    TLB Coherence
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/pcache/pgtable-lock/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PageTable Lock
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/pcache/victim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Victim Cache
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/pcache/virtual_cache/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Virtual Cache
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/pcache/rmap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Reverse Mapping
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/pcache/evict_and_ref/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Evict and Refcount
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/pcache/smp_design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SMP Design
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/pcache/replication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Replication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_5" >
        
          
          <label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Driver
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Driver
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/driver/pci/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PCI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/driver/ib/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Infiniband
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_6" >
        
          
          <label class="md-nav__link" for="__nav_5_6" id="__nav_5_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Paper
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Paper
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/paper/nmp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    NMP
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/paper/processor_oom/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Processor OOM
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/paper/genz/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Gen-Z
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/paper/replication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Replication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lego/paper/related/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Related
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#basics" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basics
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Basics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cell-bits-slc-mlc-tlc" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cell Bits (SLC, MLC, TLC)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parallelism-and-packaging" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parallelism and Packaging
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nand-has-3-programming-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      
        NAND has 3 programming constraints
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ftl-flash-translation-layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        FTL Flash Translation Layer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#garbage-collection-gc" class="md-nav__link">
    <span class="md-ellipsis">
      
        Garbage Collection (GC)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write-amplification-factor" class="md-nav__link">
    <span class="md-ellipsis">
      
        Write Amplification Factor
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trim" class="md-nav__link">
    <span class="md-ellipsis">
      
        TRIM
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#over-provisioning-op" class="md-nav__link">
    <span class="md-ellipsis">
      
        Over-Provisioning (OP)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wear-leveling" class="md-nav__link">
    <span class="md-ellipsis">
      
        Wear Leveling
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#queue-depth" class="md-nav__link">
    <span class="md-ellipsis">
      
        Queue Depth
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#seq-vs-random-ssd-writes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Seq v.s. Random SSD Writes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#open-channel-ssd" class="md-nav__link">
    <span class="md-ellipsis">
      
        Open Channel SSD
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zoned-namespace-zns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Zoned Namespace (ZNS)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flexible-data-placement-fdp-vs-zns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Flexible Data Placement (FDP) v.s. ZNS
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aws-nitro-ssd" class="md-nav__link">
    <span class="md-ellipsis">
      
        AWS Nitro SSD
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cxl-ssd-and-smart-ssd" class="md-nav__link">
    <span class="md-ellipsis">
      
        CXL SSD and Smart SSD
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#readings" class="md-nav__link">
    <span class="md-ellipsis">
      
        Readings
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="ssd-101">SSD 101<a class="headerlink" href="#ssd-101" title="Permanent link">&para;</a></h1>
<details class="note">
<summary>Version History</summary>
<table>
<thead>
<tr>
<th style="text-align: left;">Date</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Nov 20, 2022</td>
<td>polish a bit, just a bit.</td>
</tr>
<tr>
<td style="text-align: left;">Nov 15, 2022</td>
<td>Initial</td>
</tr>
</tbody>
</table>
</details>
<p><strong>Grab-and-go SSD 101 bullet points for newbies</strong>.</p>
<h2 id="basics">Basics<a class="headerlink" href="#basics" title="Permanent link">&para;</a></h2>
<h3 id="cell-bits-slc-mlc-tlc">Cell Bits (SLC, MLC, TLC)<a class="headerlink" href="#cell-bits-slc-mlc-tlc" title="Permanent link">&para;</a></h3>
<ul>
<li>A cell can have 1-bit, 2-bit, 3-bit, or 4-bit saved. <a href="https://flashdba.com/2014/07/03/understanding-flash-slc-mlc-and-tlc/">There is a trade-off among these</a>. SLC has lower-latency and longer lifespan, but is more expensive. Enterprise &amp; Datacenter may prefer SLC for its longer lifespan cena better perf. Consumers may prefer MLC/TLC/QLC.</li>
<li>A flash cell is a floating gate or a charge trap transistor to represent data by storing certain amount of charges, which determines the threshold voltage (Vth) of the cell.</li>
<li>Reads<ul>
<li><a href="https://computer.howstuffworks.com/flash-memory.htm">How Flash Memory Works | HowStuffWorks</a></li>
<li><a href="https://flashdba.com/2014/07/03/understanding-flash-slc-mlc-and-tlc/">Understanding Flash: SLC, MLC and TLC | flashdba</a> </li>
<li><a href="https://www.usenix.org/system/files/hotstorage19-paper-li.pdf">Sentinel Cells Enabled Fast Read for NAND Flash</a> HotStorage19 </li>
</ul>
</li>
</ul>
<h3 id="parallelism-and-packaging">Parallelism and Packaging<a class="headerlink" href="#parallelism-and-packaging" title="Permanent link">&para;</a></h3>
<ul>
<li>A NAND package is organized into a hierarchy of <strong>dies</strong>,  <strong>planes</strong>,  <strong>blocks</strong>, and <strong>pages</strong>.</li>
<li>There may be one or several dies within a single physical package.</li>
<li>A die allows a single I/O command to be executed at a time.</li>
<li>A plane allows similar flash commands to be executed in parallel within a die.</li>
<li>A page is usally 2K, 4K, etc. A block has thousands of pages, could be couple MBs.</li>
</ul>
<h3 id="nand-has-3-programming-constraints">NAND has 3 programming constraints<a class="headerlink" href="#nand-has-3-programming-constraints" title="Permanent link">&para;</a></h3>
<ol>
<li>A write command must always contain enough data to program one (or several) full flash page(s)</li>
<li>Writes must be sequential within a block</li>
<li>An erase must be performed before a page within a block can be (re)written. The number of program/erase (PE) cycles is limited</li>
</ol>
<h3 id="ftl-flash-translation-layer">FTL Flash Translation Layer<a class="headerlink" href="#ftl-flash-translation-layer" title="Permanent link">&para;</a></h3>
<ul>
<li>For historical reasons, the SSDs first appeared with block interfaces.</li>
<li>But this block interface conflicts with the underlying NAND flash addressing model.</li>
<li>Hence, a FTL layer is introduced to bridge this gap.</li>
<li>This abstraction stays.</li>
<li>But this abstraction has many downsides, especially considering NAND flash&rsquo;s 3 fundamental programming constaints. Many background tasks are needed such as GC. It turns out those activities are the main culprit of SSD performance degradation under intensive workload.</li>
<li>Why does SSD only support block-level erase rather than page-level erase?<ul>
<li>Per-page FTL costs more memory than per-block FTL.</li>
<li>The electricity/wires required are also less, I guess.</li>
</ul>
</li>
<li>Reads<ul>
<li>The ZNS ATC paper has an excellent historical pespective.</li>
<li><a href="https://www.usenix.org/legacy/event/usenix08/tech/full_papers/agrawal/agrawal.pdf">Design Tradeoffs for SSD Performance, ATC&lsquo;08</a></li>
<li><a href="http://www.csc.lsu.edu/~fchen/publications/papers/hpca11.pdf">http://www.csc.lsu.edu/~fchen/publications/papers/hpca11.pdf</a> </li>
</ul>
</li>
</ul>
<h3 id="garbage-collection-gc">Garbage Collection (GC)<a class="headerlink" href="#garbage-collection-gc" title="Permanent link">&para;</a></h3>
<ul>
<li>Why GC? Because SSD cells cannot be overwritten once programmed, it must be erased before it can be written again. Every SSD write would write into another blocks page other than the one you originally read data from. The original page is marked as Stale subsequently. It is apparent that many pages/blocks become stale gradually, and if no action is taken, the SSD will run out of space. GC mostly runs in the background to recycle such blocks (NOTE: erase happens in block-level granularity). If GC fails to catch up, foreground performance will be bottlenecked by Erase.</li>
</ul>
<h3 id="write-amplification-factor">Write Amplification Factor<a class="headerlink" href="#write-amplification-factor" title="Permanent link">&para;</a></h3>
<ul>
<li>The amount of data written by the SSD controller into the NAND flash compared the amount of data written from the host OS.</li>
<li>The larger the WA, the faster the SSD ages and the worse performance.</li>
</ul>
<h3 id="trim">TRIM<a class="headerlink" href="#trim" title="Permanent link">&para;</a></h3>
<ul>
<li>Once you write something into an SSD block, SSD has no way to know whether a block is freed from FS/OSs perspective. During GC, SSD would still move such invalid blocks around to make space. This is wasted effort.</li>
<li>The <strong>TRIM</strong> command allows OS/FS to notify SSD that certain blocks are freed, hence SSD can erase them and no longer need to maintain them. It is a simple co-design.</li>
</ul>
<h3 id="over-provisioning-op">Over-Provisioning (OP)<a class="headerlink" href="#over-provisioning-op" title="Permanent link">&para;</a></h3>
<ul>
<li>I saw: OP 10-15% for normal light workload. OP 25% for write-intensive workloads. Not confirmed</li>
<li>OP basically allows you to absorb more transient traffic and allows FTL to balance writes across more blocks hence prolong the overall lifespan</li>
</ul>
<h3 id="wear-leveling">Wear  Leveling<a class="headerlink" href="#wear-leveling" title="Permanent link">&para;</a></h3>
<ul>
<li>Wear = Last </li>
<li>Leveling = </li>
<li>FTL controller tries to balance the number of P/E cycles made to all SSD blocks, so that most of them age at the same pace. </li>
</ul>
<h3 id="queue-depth">Queue Depth<a class="headerlink" href="#queue-depth" title="Permanent link">&para;</a></h3>
<ul>
<li>TODO</li>
</ul>
<p><strong><a href="https://nvmexpress.org/resources/nvm-express-technology-features/nvme-namespaces/#:~:text=What%20is%20a%20Namespace%3F,provide%20access%20to%20a%20namespace.">NVMe Namespaces</a></strong></p>
<ul>
<li>a namespace is a collection of logical block addresses (LBA) accessible to host software. A namespace ID (NSID) is an identifier used by a controller to provide access to a namespace.</li>
<li>There are many reasons why host software would want to break up an NVMe SSD into multiple namespaces: for logical isolation, multi-tenancy, security isolation (encryption per namespace), write protecting a namespace for recovery purposes, overprovisioning to improve write performance and endurance and so on.</li>
<li>Namespaces =&gt; Zoned Namespaces. Its not a huge leap. The ZNS SSD is much simplified.</li>
</ul>
<h3 id="seq-vs-random-ssd-writes">Seq v.s. Random SSD Writes<a class="headerlink" href="#seq-vs-random-ssd-writes" title="Permanent link">&para;</a></h3>
<ul>
<li>From the FTLs point of view, seq/random NVMe accesses both translate to random blocks accesses.
  As you know, its an append-only program in SSD with no write-in-place.</li>
<li>Whether it is random or sequential, it usually shows during the background operations (i.e. GC).
  When more blocks within the Superblock get trimmed simultaneously
  (which means the host file size is relatively big or you have an SW to arrange a similar type of data as a group),
  this is considered sequential.
  If a few blocks are being trimmed sporadically in the Superblock (which means the host is dealing with small files), then it is considered a random behavior, which brings up the WAF since more LBAs need to get rotated during GC or WL. The performance difference between random and sequential is pretty much coming from these background activities. In addition, if the OP size is small, it gets worse.  </li>
</ul>
<h3 id="open-channel-ssd">Open Channel SSD<a class="headerlink" href="#open-channel-ssd" title="Permanent link">&para;</a></h3>
<ul>
<li>Open-Channel SSDs allow host and SSD to collaborate through a set of contiguous LBA chunks</li>
<li>This eliminates in-device garbage collection overhead and reduces the cost of media over-provisioning and DRAM.</li>
<li>With OCSSDs, the host is responsible for data placement. This includes underlying media reliability management such as wear-leveling, and specific media failure characteristics.</li>
<li>This has the potential to improve SSD performance and media lifetime over_ Stream SSDs_, but the host must manage differences across SSD implementations to guarantee durability, making the interface hard to adopt and requiring continual software upkeep.</li>
<li>Reads<ul>
<li><a href="https://www.usenix.org/system/files/atc21-bjorling.pdf">ZNS: Avoiding the Block Interface Tax for Flash-based SSDs, ATC&lsquo;21</a></li>
<li><a href="https://openchannelssd.readthedocs.io/en/latest/">https://openchannelssd.readthedocs.io/en/latest/</a> </li>
</ul>
</li>
</ul>
<h3 id="zoned-namespace-zns">Zoned Namespace (ZNS)<a class="headerlink" href="#zoned-namespace-zns" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://www.usenix.org/system/files/atc21-bjorling.pdf">ZNS: Avoiding the Block Interface Tax for Flash-based SSDs, ATC&lsquo;21</a> &amp; <a href="https://www.usenix.org/system/files/atc21_slides_bjorling.pdf">slide</a></li>
<li>The SSD is partitioned into a set of zones.</li>
<li>Each zone represents a region of the logical address space of the SSD that can be read arbitrarily but must be written sequentially, and to enable new writes, must be explicitly reset.</li>
<li>Compared to OpenChannel: OC is shifting all management responsibilities to the host, which is burdensome to software. ZNS is different, ZNS disallows random writes but the SSD controller still needs to expose the Zone abstraction and manages the Zone to underlying block/page mapping. The benefit is that SSD can now do coarse-grained mapping. The host does fine-grained mapping and GC. </li>
<li>The SSD controller is simpler in response to ZNS. Check The ZNS paper for the HW&amp;SW changes</li>
<li>This implies that write amplification on the device is eliminated, which eliminates the need for capacity over-provisioning</li>
</ul>
<h3 id="flexible-data-placement-fdp-vs-zns">Flexible Data Placement (FDP) v.s. ZNS<a class="headerlink" href="#flexible-data-placement-fdp-vs-zns" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://nvmexpress.org/wp-content/uploads/Hyperscale-Innovation-Flexible-Data-Placement-Mode-FDP.pdf">https://nvmexpress.org/wp-content/uploads/Hyperscale-Innovation-Flexible-Data-Placement-Mode-FDP.pdf</a> </li>
<li><a href="https://www.youtube.com/watch?v=R0GHuKwi3Fc">https://www.youtube.com/watch?v=R0GHuKwi3Fc</a> </li>
<li><a href="https://www.youtube.com/watch?v=ZEISXHcNmSk">https://www.youtube.com/watch?v=ZEISXHcNmSk</a> </li>
</ul>
<h3 id="aws-nitro-ssd">AWS Nitro SSD<a class="headerlink" href="#aws-nitro-ssd" title="Permanent link">&para;</a></h3>
<p>AWS re:Invent 2021 introduced their AWS Nitro SSD.
There is only limited information about it.</p>
<ul>
<li>They onload part of the traditional SSD FTL to a Nitro chip. Which parts are onloaded? I think it should be modules related to GC, wear-leveling etc. </li>
<li>Their approach is different from the ZNS/FDP approach although they are doing some sort of data placement in the onloaded FTL.</li>
<li>Theyve been boasting about their SW upgrades (instead of HW) with nearly zero downtime.</li>
<li>End to End control requires us to break the strict abstraction/protocol boundaries. And in the SSD world, the FTL is the layer <em>guarding</em> the underlying flash. E2E opt should break this boundary, but the question is how much and to what extent. Following this principle, t does not make sense for them to onload the entire FTL to the Nitro SSD - some part of it for E2E opt should be sufficient (the parts like GC, like wear-leveling, i presume). This approach is similar to one taken by Google Aquila. They break the strict protocol boundaries among the network&rsquo;s physical/link/net/transport, allowing the transport to directly instruct link layer packets. And by breaking the protocol boundaries, Google Aquila achieves stable tail latency</li>
</ul>
<h3 id="cxl-ssd-and-smart-ssd">CXL SSD and Smart SSD<a class="headerlink" href="#cxl-ssd-and-smart-ssd" title="Permanent link">&para;</a></h3>
<ul>
<li>Samsung released their <a href="https://www.servethehome.com/samsung-memory-semantic-cxl-ssd-at-fms-2022-powered-by-amd-xilinx/">CXL SSD</a> on Aug 2022. From the architecture diagram, we can see that the SSD supports both CXL.io for LBA access and CXL.mem for load/store.</li>
<li><a href="https://www.servethehome.com/samsung-and-amd-xilinx-launch-2nd-gen-smartssd/">Samsung also partered with Xilinx to produce SmartSSD</a>, bringing an FPGA into their SSD. The news show the FPGA is used for NDP, encryption etc. Makes sense for them to produce such a combined technology. But noted, this still exposes an traditional NVMe interface, no deep co-design with cloud workloads. </li>
</ul>
<h2 id="readings">Readings<a class="headerlink" href="#readings" title="Permanent link">&para;</a></h2>
<ul>
<li>This is my starting point. This is a 6-blog series and contains almost every detail wed care about. I recommend reading this. <a href="https://codecapsule.com/2014/02/12/coding-for-ssds-part-6-a-summary-what-every-programmer-should-know-about-solid-state-drives/">Coding for SSDs  Part 6: A Summary  What every programmer should know about solid-state drives</a> </li>
<li>Many recommend this paper as the one which proposed the log-based remapping mechanism. <a href="https://people.eecs.berkeley.edu/~kubitron/cs262/handouts/papers/a38-park.pdf">A Reconfigurable FTL (Flash Translation Layer) Architecture for NAND Flash-Based Applications</a> </li>
<li>Classical reads recommended by everyone<ul>
<li><a href="https://www.usenix.org/legacy/event/usenix08/tech/full_papers/agrawal/agrawal.pdf">Design Tradeoffs for SSD Performance, ATC&lsquo;08</a></li>
<li><a href="http://www.csc.lsu.edu/~fchen/publications/papers/hpca11.pdf">http://www.csc.lsu.edu/~fchen/publications/papers/hpca11.pdf</a> </li>
<li><a href="https://www.usenix.org/system/files/conference/fast16/fast16-papers-lu.pdf">WiscKey: Separating Keys from Values in SSD-conscious Storage, FAST&lsquo;16</a> </li>
</ul>
</li>
<li>Jian Huangs paper <a href="https://platformxlab.github.io/papers/flashmap-isca15.pdf">1</a> &amp; <a href="https://platformxlab.github.io/papers/flashblox-fast17.pdf">2</a> </li>
</ul>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="November 20, 2022 07:00:31 UTC">November 20, 2022</span>
  </span>

    
    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["instant", "tabs", "navigation.tabs", "navigation.tabs.sticky", "navigation.top"], "search": "../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>